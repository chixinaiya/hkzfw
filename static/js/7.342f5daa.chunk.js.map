{"version":3,"sources":["utils/api/House/index.js","components/HouseItem/index.js","components/HouseItem/index.module.css","components/NoHouse/index.js","components/NoHouse/index.module.css","pages/House/components/FilterTitle/index.module.css","../node_modules/antd-mobile/lib/picker-view/index.js","../node_modules/antd-mobile/lib/picker-view/PickerView.js","components/FilterFooter/index.module.css","pages/House/components/FilterMore/index.module.css","pages/House/components/Filter/index.module.css","pages/House/index.module.css","pages/House/components/FilterTitle/index.js","components/FilterFooter/index.js","pages/House/components/FilterPicker/index.js","pages/House/components/FilterMore/index.js","pages/House/components/Filter/index.js","pages/House/index.js"],"names":["getFilters","id","api","get","params","getListByFilter","cityId","filters","start","end","getDetailById","uploadImgs","fd","post","HouseItem","src","title","desc","tags","price","onClick","style","className","styles","house","imgWrap","img","alt","content","map","tag","index","tagClass","join","key","priceNum","module","exports","NoHouse","children","root","BASE_URL","msg","Object","defineProperty","value","obj","_PickerView","require","_PickerView2","__esModule","_classCallCheck3","_interopRequireDefault","_createClass3","_possibleConstructorReturn3","_inherits3","React","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","_Cascader2","_MultiPicker2","_Picker2","PickerView","_React$Component","this","_this","__proto__","getPrototypeOf","apply","arguments","isMultiPicker","props","data","Array","isArray","getCol","_this$props","pickerPrefixCls","indicatorStyle","itemStyle","col","createElement","prefixCls","flex","item","Item","label","cascade","onChange","onScrollChange","cols","pickerItemStyle","selectedValue","onValueChange","flexDirection","Component","defaultProps","titleList","type","FilterTitle","titleSelectedStatus","onTitleClick","align","dropdown","selected","FilterFooter","onCancle","onOK","btn","cancel","ok","FilterPicker","state","v","setState","FilterMore","hanlderSel","newSelected","indexOf","push","splice","includes","tagActive","oriented","floor","roomType","characteristic","mask","dl","dt","dd","renderFilters","footer","area","mode","more","selectedValues","Filter","openType","getFilterData","a","getCurCity","status","filterDatas","isShowPicker","handlerSel","newStatus","keys","forEach","cur","length","formatFilters","selDatas","aval","areaKey","rentType","curSel","onFilter","renderPicker","subway","renderFilterMore","HouseList","list","count","renderHouseItem","isScrolling","isVisible","houseImg","history","pathname","houseCode","backUrl","location","loading","getHouseList","success","isRowLoaded","loadMoreRows","startIndex","stopIndex","then","res","renderList","rowCount","onRowsRendered","registerChild","height","width","houseList","rowHeight","rowRenderer","ref"],"mappings":"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","file":"static/js/7.342f5daa.chunk.js","sourcesContent":["import api from \"../../axios\";\r\n\r\n// 房源相关的所有接口\r\n// 获取过滤器数据\r\nexport function getFilters(id) {\r\n  return api.get(\"/houses/condition\", {\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n// 根据筛选器条件或取房源列表\r\nexport function getListByFilter(cityId, filters, start, end) {\r\n  return api.get(\"/houses\", {\r\n    params: {\r\n      cityId,\r\n      // 组装的过滤器数据解构出来\r\n      ...filters,\r\n      // 分页\r\n      start,\r\n      end,\r\n    },\r\n  });\r\n}\r\n// 根据房源id获取房源信息\r\nexport function getDetailById(id) {\r\n  return api.get(`/houses/${id}`);\r\n}\r\n// 上传图片\r\nexport function uploadImgs(fd) {\r\n  return api.post(`/houses/image`, fd);\r\n}\r\n","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from './index.module.css'\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = 'tag' + (index + 1)\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(' ')}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            )\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n}\r\n\r\nexport default HouseItem\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__1TYEh\",\"imgWrap\":\"HouseItem_imgWrap__3NLSN\",\"img\":\"HouseItem_img__MR6ZJ\",\"content\":\"HouseItem_content__1wVcU\",\"title\":\"HouseItem_title__WS82w\",\"desc\":\"HouseItem_desc__JDCw1\",\"price\":\"HouseItem_price__Njr6Z\",\"priceNum\":\"HouseItem_priceNum__CpMuf\",\"tag\":\"HouseItem_tag__2OTrs\",\"tag1\":\"HouseItem_tag1__2OUr1\",\"tag2\":\"HouseItem_tag2__3YNHW\",\"tag3\":\"HouseItem_tag3__2wgo0\"};","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./index.module.css\";\r\nimport { BASE_URL } from \"../../utils/axios\";\r\n\r\nconst NoHouse = ({ children }) => (\r\n  <div className={styles.root}>\r\n    <img\r\n      className={styles.img}\r\n      src={`${BASE_URL}/img/not-found.png`}\r\n      alt=\"暂无数据\"\r\n    />\r\n    <p className={styles.msg}>{children}</p>\r\n  </div>\r\n);\r\n\r\nNoHouse.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default NoHouse;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoHouse_root__1rgLG\",\"img\":\"NoHouse_img__2UJvG\",\"msg\":\"NoHouse_msg__b6OPo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterTitle_root__NsjKk\",\"dropdown\":\"FilterTitle_dropdown__1URP6\",\"selected\":\"FilterTitle_selected__1yk5A\"};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PickerView = require('./PickerView');\n\nvar _PickerView2 = _interopRequireDefault(_PickerView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = _PickerView2['default'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _Cascader = require('rmc-cascader/lib/Cascader');\n\nvar _Cascader2 = _interopRequireDefault(_Cascader);\n\nvar _MultiPicker = require('rmc-picker/lib/MultiPicker');\n\nvar _MultiPicker2 = _interopRequireDefault(_MultiPicker);\n\nvar _Picker = require('rmc-picker/lib/Picker');\n\nvar _Picker2 = _interopRequireDefault(_Picker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* tslint:disable:jsx-no-multiline-js */\nfunction getDefaultProps() {\n    return {\n        prefixCls: 'am-picker',\n        pickerPrefixCls: 'am-picker-col',\n        cols: 3,\n        cascade: true,\n        value: [],\n        onChange: function onChange() {}\n    };\n}\n\nvar PickerView = function (_React$Component) {\n    (0, _inherits3['default'])(PickerView, _React$Component);\n\n    function PickerView() {\n        (0, _classCallCheck3['default'])(this, PickerView);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (PickerView.__proto__ || Object.getPrototypeOf(PickerView)).apply(this, arguments));\n\n        _this.isMultiPicker = function () {\n            if (!_this.props.data) {\n                return false;\n            }\n            return Array.isArray(_this.props.data[0]);\n        };\n        _this.getCol = function () {\n            var _this$props = _this.props,\n                data = _this$props.data,\n                pickerPrefixCls = _this$props.pickerPrefixCls,\n                indicatorStyle = _this$props.indicatorStyle,\n                itemStyle = _this$props.itemStyle;\n\n            var formattedData = _this.isMultiPicker() ? data : [data];\n            return formattedData.map(function (col, index) {\n                return React.createElement(\n                    _Picker2['default'],\n                    { key: index, prefixCls: pickerPrefixCls, style: { flex: 1 }, indicatorStyle: indicatorStyle, itemStyle: itemStyle },\n                    col.map(function (item) {\n                        return React.createElement(\n                            _Picker2['default'].Item,\n                            { key: item.value, value: item.value },\n                            item.label\n                        );\n                    })\n                );\n            });\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(PickerView, [{\n        key: 'render',\n        value: function render() {\n            // tslint:disable-next-line:no-this-assignment\n            var props = this.props;\n\n            var picker = void 0;\n            if (props.cascade) {\n                picker = React.createElement(_Cascader2['default'], { prefixCls: props.prefixCls, pickerPrefixCls: props.pickerPrefixCls, data: props.data, value: props.value, onChange: props.onChange, onScrollChange: props.onScrollChange, cols: props.cols, indicatorStyle: props.indicatorStyle, pickerItemStyle: props.itemStyle });\n            } else {\n                picker = React.createElement(\n                    _MultiPicker2['default'],\n                    { prefixCls: props.prefixCls, selectedValue: props.value, onValueChange: props.onChange, onScrollChange: props.onScrollChange, style: { flexDirection: 'row' } },\n                    this.getCol()\n                );\n            }\n            return picker;\n        }\n    }]);\n    return PickerView;\n}(React.Component);\n\nexports['default'] = PickerView;\n\nPickerView.defaultProps = getDefaultProps();\nmodule.exports = exports['default'];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterFooter_root__1Z0eG\",\"btn\":\"FilterFooter_btn__PaVzs\",\"cancel\":\"FilterFooter_cancel__3vRhj\",\"ok\":\"FilterFooter_ok__3Cn7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FilterMore_root__ZSR1z\",\"mask\":\"FilterMore_mask__1Tdw9\",\"tags\":\"FilterMore_tags__RGa6g\",\"tag\":\"FilterMore_tag__2jLcD\",\"tagActive\":\"FilterMore_tagActive__1FJMw\",\"dl\":\"FilterMore_dl__ROizY\",\"dt\":\"FilterMore_dt__2cUxI\",\"dd\":\"FilterMore_dd__2zsZH\",\"footer\":\"FilterMore_footer__kF7hU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Filter_root__39Yr3\",\"mask\":\"Filter_mask__1asHV\",\"content\":\"Filter_content__2_pNQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"House_root__24ToW\",\"header\":\"House_header__3IA5z\",\"searchHeader\":\"House_searchHeader__1PSF3\",\"houseList\":\"House_houseList__1cuaf\",\"loading\":\"House_loading__3eCi9\"};","import React from \"react\";\r\n\r\nimport { Flex } from \"antd-mobile\";\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\n// 条件筛选栏标题数组：\r\nconst titleList = [\r\n  { title: \"区域\", type: \"area\" },\r\n  { title: \"方式\", type: \"mode\" },\r\n  { title: \"租金\", type: \"price\" },\r\n  { title: \"筛选\", type: \"more\" },\r\n];\r\n\r\nexport default function FilterTitle(props) {\r\n  // console.log(props);\r\n  const { titleSelectedStatus, onTitleClick } = props;\r\n  return (\r\n    <Flex align=\"center\" className={styles.root}>\r\n      {titleList.map((item) => (\r\n        <Flex.Item\r\n          onClick={() => {\r\n            // console.log(111);\r\n            // 执行父组件提供的修改高亮的方法\r\n            onTitleClick(item.type);\r\n          }}\r\n          key={item.type}\r\n        >\r\n          {/* 选中类名： selected    styles.selected*/}\r\n          <span\r\n            className={[\r\n              styles.dropdown,\r\n              titleSelectedStatus[item.type] ? styles.selected : \"\",\r\n            ].join(\" \")}\r\n          >\r\n            <span>{item.title}</span>\r\n            <i className=\"iconfont icon-arrow\" />\r\n          </span>\r\n        </Flex.Item>\r\n      ))}\r\n    </Flex>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Flex } from \"antd-mobile\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction FilterFooter({ className, style, onCancle, onOK }) {\r\n  return (\r\n    <Flex style={style} className={[styles.root, className || \"\"].join(\" \")}>\r\n      {/* 取消按钮 */}\r\n      <span\r\n        onClick={onCancle}\r\n        className={[styles.btn, styles.cancel].join(\" \")}\r\n      >\r\n        取消\r\n      </span>\r\n\r\n      {/* 确定按钮 */}\r\n      <span onClick={onOK} className={[styles.btn, styles.ok].join(\" \")}>\r\n        确定\r\n      </span>\r\n    </Flex>\r\n  );\r\n}\r\n\r\n// props校验\r\nFilterFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n};\r\n\r\nexport default FilterFooter;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { PickerView } from \"antd-mobile\";\r\n\r\nimport FilterFooter from \"../../../../components/FilterFooter\";\r\n\r\nexport default class FilterPicker extends Component {\r\n  state = {\r\n    // picker当前选中的数据\r\n    value: this.props.value,\r\n  };\r\n  render() {\r\n    const { data, cols } = this.props;\r\n    return (\r\n      <>\r\n        {/* 选择器组件： */}\r\n        <PickerView\r\n          value={this.state.value}\r\n          data={data}\r\n          onChange={(v) => {\r\n            this.setState({\r\n              value: v,\r\n            });\r\n          }}\r\n          cols={cols}\r\n        />\r\n\r\n        {/* 底部按钮 */}\r\n        <FilterFooter\r\n          onOK={() => {\r\n            this.props.onOK(this.state.value);\r\n          }}\r\n          onCancle={this.props.onCancle}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport FilterFooter from \"../../../../components/FilterFooter\";\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\nexport default class FilterMore extends Component {\r\n  // 设置状态数据\r\n  state = {\r\n    // 当前选中的条件数据\r\n    selected: this.props.value,\r\n  };\r\n\r\n  // 处理选中的条件数据\r\n  hanlderSel = (id) => {\r\n    // console.log(id);\r\n    // 获取状态数据\r\n    const { selected } = this.state;\r\n    let newSelected = [...selected];\r\n    // 判断当前在数组中存在=》删除、添加\r\n    let index = newSelected.indexOf(id);\r\n    if (index < 0) {\r\n      // 没有\r\n      newSelected.push(id);\r\n    } else {\r\n      // 存在删除\r\n      newSelected.splice(index, 1);\r\n    }\r\n    // 更新数据和页面\r\n    this.setState({\r\n      selected: newSelected,\r\n    });\r\n  };\r\n\r\n  // 渲染标签\r\n  renderFilters(data) {\r\n    // const { selected } = this.state;\r\n    // 高亮类名： styles.tagActive\r\n    return data.map((item) => (\r\n      <span\r\n        onClick={() => this.hanlderSel(item.value)}\r\n        key={item.value}\r\n        className={[\r\n          styles.tag,\r\n          this.state.selected.includes(item.value) ? styles.tagActive : \"\",\r\n        ].join(\" \")}\r\n      >\r\n        {item.label}\r\n      </span>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.props);\r\n    const {\r\n      onOK,\r\n      onCancle,\r\n      data: { oriented, floor, roomType, characteristic },\r\n    } = this.props;\r\n    // console.log(data);\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 遮罩层 */}\r\n        <div className={styles.mask} onClick={onCancle} />\r\n        {/* 条件内容 */}\r\n        <div className={styles.tags}>\r\n          <dl className={styles.dl}>\r\n            <dt className={styles.dt}>户型</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(roomType)}</dd>\r\n\r\n            <dt className={styles.dt}>朝向</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(oriented)}</dd>\r\n\r\n            <dt className={styles.dt}>楼层</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(floor)}</dd>\r\n\r\n            <dt className={styles.dt}>房屋亮点</dt>\r\n            <dd className={styles.dd}>{this.renderFilters(characteristic)}</dd>\r\n          </dl>\r\n        </div>\r\n        {/* 底部按钮 */}\r\n        <FilterFooter\r\n          className={styles.footer}\r\n          onOK={() => onOK(this.state.selected)}\r\n          onCancle={onCancle}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport FilterTitle from \"../FilterTitle\";\r\nimport FilterPicker from \"../FilterPicker\";\r\nimport FilterMore from \"../FilterMore\";\r\n\r\nimport styles from \"./index.module.css\";\r\nimport { getCurCity } from \"../../../../utils\";\r\nimport { getFilters } from \"../../../../utils/api/House/index\";\r\n\r\n// 过滤器title默认的高亮状态\r\nconst titleSelectedStatus = {\r\n  area: false,\r\n  mode: false,\r\n  price: false,\r\n  more: false,\r\n};\r\n// 当前选中的picker值的默认数据\r\nconst selectedValues = {\r\n  area: [\"area\", \"null\"],\r\n  mode: [\"null\"],\r\n  price: [\"null\"],\r\n  more: [],\r\n};\r\n\r\nexport default class Filter extends Component {\r\n  // 定义状态数据\r\n  state = {\r\n    titleSelectedStatus,\r\n    openType: \"\",\r\n  };\r\n  componentDidMount() {\r\n    this.getFilterData();\r\n    this.selectedValues = { ...selectedValues };\r\n  }\r\n\r\n  // 获取筛选条件的数据\r\n  getFilterData = async () => {\r\n    // 当前城市的id\r\n    let { value } = await getCurCity();\r\n    let { status, data } = await getFilters(value);\r\n    // console.log(status, data);\r\n    if (status === 200) {\r\n      // 把数据存储到this上\r\n      this.filterDatas = data;\r\n    }\r\n  };\r\n\r\n  // 提供：修改数据高亮数据的方法\r\n  onTitleClick = (type) => {\r\n    // console.log(type);\r\n    let newSelected = { ...titleSelectedStatus, [type]: true };\r\n    // console.log(newSelected);\r\n\r\n    this.setState({\r\n      titleSelectedStatus: newSelected,\r\n      openType: type,\r\n    });\r\n  };\r\n\r\n  // 是否显示前三个过滤器的内容\r\n  isShowPicker = () => {\r\n    const { openType } = this.state;\r\n    return openType === \"area\" || openType === \"mode\" || openType === \"price\";\r\n  };\r\n\r\n  // 处理确定的时候，查询selectedValues对应的选择器是否有数据=》高亮对应的title\r\n  handlerSel = () => {\r\n    // 存储新的高亮状态\r\n    const newStatus = { ...titleSelectedStatus };\r\n    // 遍历存储的选中数据，确定是否高亮\r\n    Object.keys(this.selectedValues).forEach((key) => {\r\n      // 获取当前picker选中的值\r\n      let cur = this.selectedValues[key];\r\n      // 判断是否高亮\r\n      if (key === \"area\" && (cur[1] !== \"null\" || cur[0] === \"subway\")) {\r\n        newStatus[key] = true;\r\n      } else if (key === \"mode\" && cur[0] !== \"null\") {\r\n        newStatus[key] = true;\r\n      } else if (key === \"price\" && cur[0] !== \"null\") {\r\n        newStatus[key] = true;\r\n      } else if (key === \"more\" && cur.length > 0) {\r\n        newStatus[key] = true;\r\n      } else {\r\n        newStatus[key] = false;\r\n      }\r\n    });\r\n    return newStatus;\r\n  };\r\n\r\n  // 处理所有筛选器数据=》后台同学需要的格式\r\n  formatFilters = (selDatas) => {\r\n    // 获取村塾的筛选条件数据\r\n    const { area, mode, price, more } = selDatas;\r\n    // 组装数据\r\n    const filters = {};\r\n    // 区域下边：区域 | 地铁\r\n    let areaKey = area[0],\r\n      aval;\r\n    if (area.length === 2) {\r\n      aval = area[1];\r\n    } else {\r\n      if (area[2] === \"null\") {\r\n        aval = area[1];\r\n      } else {\r\n        aval = area[2];\r\n      }\r\n    }\r\n    filters[areaKey] = aval;\r\n    // 出租方式，价格\r\n    filters.rentType = mode[0];\r\n    filters.price = price[0];\r\n    // 更多\r\n    filters.more = more.join(\",\");\r\n    return filters;\r\n  };\r\n\r\n  // 点击确定的时候执行\r\n  onOK = (curSel) => {\r\n    // console.log(curSel);\r\n    // 存储到组件this（实例）\r\n    const { openType } = this.state;\r\n    this.selectedValues[openType] = curSel;\r\n    // console.log(curSel, this.selectedValues);\r\n\r\n    this.setState(\r\n      {\r\n        openType: \"\",\r\n        // 处理高亮状态\r\n        titleSelectedStatus: this.handlerSel(),\r\n      },\r\n      () => {\r\n        // console.log(this.formatFilters(this.selectedValues));\r\n        // 子组件调用父组件的方法=》\r\n        this.props.onFilter(this.formatFilters(this.selectedValues));\r\n      }\r\n    );\r\n  };\r\n  // 点击取消的时候\r\n  onCancle = () => {\r\n    this.setState({\r\n      openType: \"\",\r\n      // 处理高亮状态\r\n      titleSelectedStatus: this.handlerSel(),\r\n    });\r\n  };\r\n\r\n  // 渲染picker并提供相应的数据\r\n  renderPicker = () => {\r\n    if (this.isShowPicker()) {\r\n      // 获取对应的picker数据\r\n      const { openType } = this.state;\r\n      const { area, subway, rentType, price } = this.filterDatas;\r\n      // 传递对应的picker数据\r\n      let data,\r\n        cols = 1;\r\n      // 当前选中的值\r\n      let curSel = this.selectedValues[openType];\r\n      // 根据openType去取当前点击的picker数据\r\n      switch (openType) {\r\n        case \"area\":\r\n          data = [area, subway];\r\n          cols = 3;\r\n          break;\r\n        case \"mode\":\r\n          data = rentType;\r\n          break;\r\n        case \"price\":\r\n          data = price;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return (\r\n        <FilterPicker\r\n          data={data}\r\n          cols={cols}\r\n          key={openType}\r\n          value={curSel}\r\n          onOK={this.onOK}\r\n          onCancle={this.onCancle}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  // 渲染第四个筛选器\r\n  renderFilterMore = () => {\r\n    const { openType } = this.state;\r\n    if (openType === \"more\") {\r\n      // 传递后台过滤条件的数据\r\n      const { oriented, floor, roomType, characteristic } = this.filterDatas;\r\n      let data = { oriented, floor, roomType, characteristic };\r\n      // console.log(data);\r\n\r\n      return (\r\n        <FilterMore\r\n          value={this.selectedValues[openType]}\r\n          data={data}\r\n          onOK={this.onOK}\r\n          onCancle={this.onCancle}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 前三个菜单的遮罩层 */}\r\n        {/* <div className={styles.mask} /> */}\r\n        {this.isShowPicker() ? (\r\n          <div onClick={this.onCancle} className={styles.mask} />\r\n        ) : null}\r\n        <div className={styles.content}>\r\n          {/* 标题栏 */}\r\n          <FilterTitle\r\n            onTitleClick={this.onTitleClick}\r\n            titleSelectedStatus={this.state.titleSelectedStatus}\r\n          />\r\n\r\n          {/* 前三个菜单对应的内容： */}\r\n          {this.renderPicker()}\r\n\r\n          {/* 最后一个菜单对应的内容： */}\r\n          {this.renderFilterMore()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Toast } from \"antd-mobile\";\r\n\r\nimport Filter from \"./components/Filter\";\r\n// 导入样式\r\nimport styles from \"./index.module.css\";\r\nimport { getListByFilter } from \"../../utils/api/House\";\r\nimport { getCurCity } from \"../../utils\";\r\nimport { List, AutoSizer, InfiniteLoader } from \"react-virtualized\";\r\nimport HouseItem from \"../../components/HouseItem\";\r\nimport { BASE_URL } from \"../../utils/axios\";\r\nimport NoHouse from \"../../components/NoHouse\";\r\n\r\nexport default class HouseList extends React.Component {\r\n  state = {\r\n    // 房屋列表数据\r\n    list: [],\r\n    // 列表数据的总条数\r\n    count: 0,\r\n  };\r\n\r\n  // 渲染列表项方法\r\n  renderHouseItem = ({\r\n    key, // Unique key within array of rows\r\n    index, // Index of row within collection\r\n    isScrolling, // The List is currently being scrolled\r\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\r\n    style, // Style object to be applied to row (to position it)\r\n  }) => {\r\n    // 获取数据=》渲染列表项\r\n    const { list } = this.state;\r\n\r\n    // 获取当前列表项数据\r\n    const item = list[index];\r\n    // 数据item没有的时候\r\n    if (!item) {\r\n      return (\r\n        <div style={style} key={key}>\r\n          <p className={styles.loading}></p>\r\n        </div>\r\n      );\r\n    }\r\n    // 处理图片地址和键\r\n    item.src = `${BASE_URL}${item.houseImg}`;\r\n    return (\r\n      <HouseItem\r\n        {...item}\r\n        key={key}\r\n        onClick={() => {\r\n          this.props.history.push({\r\n            pathname: \"/detail/\" + item.houseCode,\r\n            data: { id: item.houseCode, backUrl: this.props.location.pathname },\r\n          });\r\n        }}\r\n        style={style}\r\n      />\r\n    );\r\n  };\r\n\r\n  async componentDidMount() {\r\n    let { value } = await getCurCity();\r\n    // console.log(value);\r\n    this.cityId = value;\r\n    // 默认调用一次\r\n    this.getHouseList();\r\n  }\r\n\r\n  // 字传父\r\n  // 父组件提供接收数据的方法\r\n  onFilter = (filters) => {\r\n    // 过滤条件数据\r\n    this.filters = filters;\r\n    // 获取列表数据\r\n    // 每次点击确定的时候调用数据\r\n    this.getHouseList();\r\n  };\r\n  // 获取列表数据\r\n  getHouseList = async () => {\r\n    let {\r\n      status,\r\n      data: { list, count },\r\n    } = await getListByFilter(this.cityId, this.filters, 1, 20);\r\n    // 有数据提示\r\n    if (count !== 0) {\r\n      Toast.success(`获取到${count}条房源数据`);\r\n    }\r\n    // console.log(res);\r\n    if (status === 200) {\r\n      this.setState({\r\n        list,\r\n        count,\r\n      });\r\n    }\r\n  };\r\n\r\n  // 判断列表中的每一行是否加载完成\r\n  isRowLoaded = ({ index }) => {\r\n    // console.log('rowloaded:', index);\r\n    const { list } = this.state;\r\n    return !!list[index];\r\n  };\r\n\r\n  // 下拉加载更多时触发：加载下一页数据\r\n  loadMoreRows = ({ startIndex, stopIndex }) => {\r\n    // console.log( startIndex, stopIndex);\r\n    // 调用封装的api(返回一个Promise对象)\r\n    return getListByFilter(\r\n      this.cityId,\r\n      this.filters,\r\n      startIndex,\r\n      stopIndex\r\n    ).then((res) => {\r\n      // console.log(startIndex, stopIndex, res);\r\n      // 刷新视图\r\n      this.setState({\r\n        list: [...this.state.list, ...res.data.list],\r\n      });\r\n    });\r\n  };\r\n  // 渲染列表\r\n  renderList = () => {\r\n    const { count } = this.state;\r\n    return count > 0 ? (\r\n      <InfiniteLoader\r\n        isRowLoaded={this.isRowLoaded}\r\n        loadMoreRows={this.loadMoreRows}\r\n        // 远程数据总条数\r\n        rowCount={this.state.count}\r\n      >\r\n        {({ onRowsRendered, registerChild }) => (\r\n          <AutoSizer>\r\n            {({ height, width }) => (\r\n              <List\r\n                className={styles.houseList}\r\n                height={height}\r\n                rowCount={this.state.count}\r\n                rowHeight={130}\r\n                rowRenderer={this.renderHouseItem}\r\n                onRowsRendered={onRowsRendered}\r\n                ref={registerChild}\r\n                width={width}\r\n              />\r\n            )}\r\n          </AutoSizer>\r\n        )}\r\n      </InfiniteLoader>\r\n    ) : (\r\n      <NoHouse>暂无房源数据</NoHouse>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 条件筛选栏 */}\r\n        <Filter onFilter={this.onFilter} />\r\n        {/* 筛选结果：列表 */}\r\n        {/* 列表 */}\r\n        {this.renderList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}